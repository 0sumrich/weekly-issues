(this["webpackJsonpweekly-issues"]=this["webpackJsonpweekly-issues"]||[]).push([[0],{129:function(t,e,a){t.exports=a(142)},135:function(t,e,a){},141:function(t,e,a){},142:function(t,e,a){"use strict";a.r(e);var n=a(29),r=a.n(n),i=a(64),o=a(0),c=a.n(o),s=a(8),l=a.n(s),u=(a(135),a(69)),p=a(68),d=a(65),f=a(156),m=a(158),h=a(4),g=Object(f.a)((function(t){return{wrapper:{textAlign:"center",maxWidth:950,margin:"auto"},button:{cursor:"pointer",margin:t.spacing(.5)},active:{background:t.palette.grey[200],border:"1px solid ".concat(t.palette.grey[700])}}})),v=function(t){var e=t.handleClick,a=t.activeLib,n=t.libraries,r=g();return c.a.createElement("div",{className:r.wrapper},n.map((function(t){return c.a.createElement(m.a,{key:t,variant:"outlined",className:Object(h.a)(r.button,Object(d.a)({},r.active,t===a)),onClick:e},t)})))},y=function(t){var e=t.data,a=t.id,n=t.draw;return Object(o.useEffect)((function(){n(e)})),c.a.createElement("svg",{id:a})},x=a(3),b=a(30),w=a.n(b);function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=x.m(new Date(Date.now()));return w()(a).add(t,"d").add(e,"h").add(0,"m").toDate()}var E=x.h.slice(0,3);var O=function(t){if(t.length>0){x.i("#weekly").selectAll("*").remove();var e={top:50,right:50,bottom:50,left:50},a=950-e.left-e.right,n=600-e.top-e.bottom,r=t,i=x.i("#weekly").attr("width",a+e.left+e.right).attr("height",n+e.top+e.bottom).append("g").attr("transform","translate(".concat(e.left,", ").concat(e.top,")")),o=x.l(k(0),k(7),1),c=x.g().domain([o[0],o[o.length-1]]).range([0,a]),s=x.e(r.map((function(t){return t.average_transactions}))),l=x.f().domain([0,s+10]).range([n,0]),u=x.d().x((function(t){var e=k(t.day_num,t.hour);return c(e)})).y((function(t){return l(t.average_transactions)}));u(r);var p=x.a().x((function(t){return c(k(t.day_num,t.hour))})).y1((function(t){return l(t.average_transactions)})).y0(n),d=function(t){return"closed"===t?E[0]:"staffed"===t?E[1]:"SSO"===t?E[2]:void 0},f=function(t){for(var e=[t[0]],a=[],n=1;n<t.length;n++){var r=e[e.length-1].opening_type;t[n].opening_type===r?e.push(t[n]):(e.push(t[n]),a.push(e),e=[t[n]])}return a.push(e),a}(r);f.forEach((function(t){!function(t){i.append("path").datum(t).attr("d",p).attr("fill",d(t[0].opening_type)).on("mouseenter",(function(t){return console.log(t)}))}(t)})),i.append("path").datum(r).attr("class","line").attr("d",u);var m=x.b(c).tickArguments([x.k.every(12)]).tickFormat((function(t){return(0===w()(t).hour()?x.j(""):x.j("%H:%M %p \n %A"))(t)})),h=x.c(l);i.append("g").attr("class","x axis").attr("transform","translate(0, ".concat(n,")")).call(m).selectAll(".tick text").each((function(t){var e=x.i(this),a=e.text();if(a.length>0){var n=+e.attr("y"),r=+e.attr("x"),i=a.split("\n");e.text(null).append("tspan").attr("x",r).attr("y",n).text(i[0]),e.append("tspan").attr("x",r).attr("y",+n+20).text(i[1])}})),i.append("g").attr("class","y axis").call(h);i.append("text").attr("x",5).attr("y",0).attr("alignment-baseline","hanging").attr("font-size","small").text("Opening Types"),["closed","staffed","SSO"].forEach((function(t,e){return function(t,e){var a=25*e+20;i.append("rect").attr("x",5).attr("y",a).attr("height",20).attr("width",20).attr("fill",d(t)),i.append("text").attr("x",30).attr("y",a+10).attr("alignment-baseline","middle").attr("font-size","small").text(t)}(t,e)}));var g=i.append("text").style("text-anchor","middle");g.append("tspan").attr("x",a/2).attr("y",0+e.top/2).text("Average Weekly Loan Transactions at ".concat(r[0].library)),g.append("tspan").text("Between March-November 2019").attr("x",a/2).attr("y",0+e.top/2).attr("dy","1.6em"),i.append("text").attr("transform","rotate(-90)").attr("y",0-e.left+5).attr("x",0-n/2).attr("dy","1em").attr("font-size","small").style("text-anchor","middle").text("Average loan transactions")}},j=(a(141),function(t){var e=t.data,a=Object(p.a)(new Set(e.map((function(t){return t.library})))),n=Object(o.useState)(a[0]),r=Object(u.a)(n,2),i=r[0],s=r[1];return c.a.createElement("main",null,c.a.createElement(v,{handleClick:function(t){t.preventDefault(),s(t.target.innerHTML)},activeLib:i,libraries:a}),c.a.createElement(y,{draw:O,id:"weekly",data:function(t){return t.filter((function(t){return t.library===i}))}(e)}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(67),A=a.n(_),S=a(16);(function(){var t=Object(i.a)(r.a.mark((function t(){var e,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.a)(A.a);case 2:e=t.sent,a=e.map((function(t){return["average_transactions","day_num","hour"].forEach((function(e){t[e]=+t[e]})),t})),l.a.render(c.a.createElement(j,{data:a}),document.getElementById("root"));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},67:function(t,e,a){t.exports=a.p+"static/media/data.9de063ff.csv"}},[[129,1,2]]]);
//# sourceMappingURL=main.c2b4dfa4.chunk.js.map